# Robot_pet 项目说明

## 项目简介

本项目为全国大学生嵌入式比赛芯片应用赛道的参赛作品——智芯萌伴：养成系智能宠物交互系统，集成了人脸识别、手势识别、数据库管理、串口通信与云端上报等功能，实现了人与桌面电子宠物之间的自然交互和状态同步。

---

## 主要功能
- **人脸检测与识别** 
  通过人脸检测-对齐-识别提取人脸特征向量，并记录至数据库，便于后续对不同用户好感度数据的记录

- **手势识别与控制**  
  通过订阅 `/hobot_hand_gesture_detection` 话题，识别用户手势，并将手势映射为下位机控制指令，通过串口发送给下位机，实现机器人动作控制。

- **好感度管理**  
  - 启动时从本地sqlite3数据库读取用户好感度。
  - 每当串口收到下位机返回的 `OK` 响应时，好感度自动加1。
  - 程序退出时自动将好感度写回数据库，保证数据持久化。

- **云端上报**  
  通过 MQTT 协议将好感度实时上报至涂鸦云平台，实现云端同步和涂鸦智能生活app实时监控。

- **多线程设计**  
  串口监听和好感度上报分别在独立线程中运行，保证系统响应实时性和稳定性。

- **隐藏功能**  
  好感度达到设定阈值时，启动大语言模型对话功能，提升交互的趣味性。

---




## 主要文件说明

- `main/main.py`  
  主节点

- `face_ws/client_sqlite/face_sqlite.py`  
  本地数据库操作接口，负责好感度和人脸特征向量的读取与写入。

- `MQTT/tuya_mqtt.py`  
  MQTT 云端通信接口，负责好感度等属性的上报。

- ` LLM_interface/voice_assistant_demo.py`
    大语言模型对话接口，负责调用网关大模型进行人机交互。

- `hand_ws`
    负责启用tros手势识别算法功能

---

